import{a as j}from"./chunk-7LTOQ4FK.js";import"./chunk-NDJZWFGI.js";import{h as z,m as B}from"./chunk-H7IJ5CCD.js";import{a as $}from"./chunk-Z3IWO37W.js";import{$b as T,Bb as P,Bc as D,Cc as V,Eb as b,Ec as A,Fb as s,Gc as F,Hc as L,Nb as i,Ob as l,Pb as O,Qb as S,Vb as w,Yb as u,Zb as f,_b as E,ab as o,bb as M,f as p,na as v,qb as x,sb as m,ub as y,wb as e,xa as g,xb as n,xc as k,ya as _,yb as c,yc as N,zc as I}from"./chunk-F3LZLUOA.js";function R(r,h){r&1&&(e(0,"div",32)(1,"div",33)(2,"span",34),i(3,"Loading..."),n()(),e(4,"p",35),i(5,"Loading tutorials..."),n()())}function U(r,h){if(r&1){let t=P();e(0,"tr")(1,"td")(2,"strong"),i(3),n(),e(4,"div",39),i(5),u(6,"slice"),n()(),e(7,"td")(8,"span",40),i(9),n()(),e(10,"td")(11,"span",41),i(12),u(13,"titlecase"),n()(),e(14,"td")(15,"span",41),i(16),n()(),e(17,"td")(18,"span",42),i(19),n()(),e(20,"td")(21,"small",42),i(22),u(23,"date"),n()(),e(24,"td")(25,"div",43)(26,"button",44),b("click",function(){let d=g(t).$implicit,C=s(3);return _(C.editTutorial(d.id))}),c(27,"i",21),n(),e(28,"button",45),b("click",function(){let d=g(t).$implicit,C=s(3);return _(C.togglePublish(d))}),c(29,"i",46),n(),e(30,"button",47),b("click",function(){let d=g(t).$implicit,C=s(3);return _(C.deleteTutorial(d.id))}),c(31,"i",48),n()()()()}if(r&2){let t=h.$implicit,a=s(3);o(3),l(t.title||"Untitled"),o(2),S("",T(6,14,t.description,0,100),"",t.description.length>100?"...":"",""),o(4),l(t.category),o(2),m("ngClass",a.getDifficultyBadgeClass(t.difficulty)),o(),O(" ",f(13,18,t.difficulty)," "),o(3),m("ngClass",t.published?"bg-success":"bg-warning"),o(),O(" ",t.published?"Published":"Draft"," "),o(3),l(t.views||0),o(3),l(E(23,20,t.createdAt,"mediumDate")),o(7),y("fa-eye-slash",t.published)("fa-eye",!t.published)}}function Y(r,h){if(r&1){let t=P();e(0,"div",32),c(1,"i",49),e(2,"h5"),i(3,"No tutorials yet"),n(),e(4,"p",42),i(5,"Create your first tutorial to get started."),n(),e(6,"button",9),b("click",function(){g(t);let d=s(3);return _(d.createNewTutorial())}),c(7,"i",10),i(8,"Create First Tutorial "),n()()}}function q(r,h){if(r&1&&(e(0,"div",36)(1,"table",37)(2,"thead")(3,"tr")(4,"th"),i(5,"Title"),n(),e(6,"th"),i(7,"Category"),n(),e(8,"th"),i(9,"Difficulty"),n(),e(10,"th"),i(11,"Status"),n(),e(12,"th"),i(13,"Views"),n(),e(14,"th"),i(15,"Created"),n(),e(16,"th"),i(17,"Actions"),n()()(),e(18,"tbody"),x(19,U,32,23,"tr",38),n()(),x(20,Y,9,0,"div",30),n()),r&2){let t=s(2);o(19),m("ngForOf",t.tutorials),o(),m("ngIf",t.tutorials.length===0)}}function G(r,h){if(r&1){let t=P();e(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h1"),c(6,"i",6),i(7," Matrix Notes Dashboard "),n(),e(8,"p",7),i(9,"Manage your tutorials and educational content"),n()(),e(10,"div",8)(11,"button",9),b("click",function(){g(t);let d=s();return _(d.createNewTutorial())}),c(12,"i",10),i(13,"Create New Tutorial "),n()()()()(),e(14,"div",11)(15,"div",3)(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15),c(20,"i",16),n(),e(21,"div",17)(22,"h3"),i(23),n(),e(24,"p"),i(25,"Total Tutorials"),n()()()(),e(26,"div",13)(27,"div",14)(28,"div",18),c(29,"i",19),n(),e(30,"div",17)(31,"h3"),i(32),n(),e(33,"p"),i(34,"Published"),n()()()(),e(35,"div",13)(36,"div",14)(37,"div",20),c(38,"i",21),n(),e(39,"div",17)(40,"h3"),i(41),n(),e(42,"p"),i(43,"Drafts"),n()()()(),e(44,"div",13)(45,"div",14)(46,"div",22),c(47,"i",23),n(),e(48,"div",17)(49,"h3"),i(50),n(),e(51,"p"),i(52,"Total Views"),n()()()()(),e(53,"div",24)(54,"div",25)(55,"div",26)(56,"div",27)(57,"h5",28),i(58,"All Tutorials"),n()(),e(59,"div",29),x(60,R,6,0,"div",30)(61,q,21,2,"div",31),n()()()()()()()}if(r&2){let t=s();o(23),l(t.tutorials.length),o(9),l(t.publishedTutorials.length),o(9),l(t.draftTutorials.length),o(9),l(t.getTotalViews()),o(10),m("ngIf",t.isLoading),o(),m("ngIf",!t.isLoading)}}var tt=(()=>{class r{matrixNotesService;adminService;router;tutorials=[];publishedTutorials=[];draftTutorials=[];isLoading=!0;constructor(t,a,d){this.matrixNotesService=t,this.adminService=a,this.router=d}ngOnInit(){return p(this,null,function*(){yield this.loadTutorials()})}loadTutorials(){return p(this,null,function*(){try{this.isLoading=!0,this.tutorials=yield this.matrixNotesService.getAllTutorials(),this.publishedTutorials=this.tutorials.filter(t=>t.published),this.draftTutorials=this.tutorials.filter(t=>!t.published)}catch(t){console.error("Error loading tutorials:",t)}finally{this.isLoading=!1}})}deleteTutorial(t){return p(this,null,function*(){if(confirm("Are you sure you want to delete this tutorial?"))try{yield this.matrixNotesService.deleteTutorial(t),yield this.loadTutorials()}catch(a){console.error("Error deleting tutorial:",a)}})}togglePublish(t){return p(this,null,function*(){try{t.published?yield this.matrixNotesService.unpublishTutorial(t.id):yield this.matrixNotesService.publishTutorial(t.id),yield this.loadTutorials()}catch(a){console.error("Error toggling publish status:",a)}})}createNewTutorial(){this.router.navigate(["/admin/matrix-notes/editor"])}editTutorial(t){this.router.navigate(["/admin/matrix-notes/editor",t])}getDifficultyBadgeClass(t){switch(t){case"beginner":return"bg-success";case"intermediate":return"bg-warning";case"advanced":return"bg-danger";default:return"bg-secondary"}}getTotalViews(){return this.tutorials.reduce((t,a)=>t+(a.views||0),0)}static \u0275fac=function(a){return new(a||r)(M(j),M($),M(z))};static \u0275cmp=v({type:r,selectors:[["app-matrix-notes-dashboard"]],standalone:!0,features:[w],decls:2,vars:3,consts:[["class","matrix-dashboard-container py-5",4,"ngIf"],[1,"matrix-dashboard-container","py-5"],[1,"dashboard-header"],[1,"container-fluid"],[1,"row","align-items-center"],[1,"col"],[1,"fas","fa-book","me-2"],[1,"text-muted","mb-0"],[1,"col-auto"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus","me-2"],[1,"dashboard-content"],[1,"row","mb-4"],[1,"col-md-3"],[1,"stat-card"],[1,"stat-icon","bg-primary"],[1,"fas","fa-book"],[1,"stat-info"],[1,"stat-icon","bg-success"],[1,"fas","fa-check-circle"],[1,"stat-icon","bg-warning"],[1,"fas","fa-edit"],[1,"stat-icon","bg-info"],[1,"fas","fa-eye"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body"],["class","text-center py-5",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2","text-muted"],[1,"table-responsive"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"text-muted","small"],[1,"badge","bg-secondary"],[1,"badge",3,"ngClass"],[1,"text-muted"],[1,"btn-group","btn-group-sm"],[1,"btn","btn-outline-primary",3,"click"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fas"],[1,"btn","btn-outline-danger",3,"click"],[1,"fas","fa-trash"],[1,"fas","fa-book","fa-3x","text-muted","mb-3"]],template:function(a,d){a&1&&(x(0,G,62,6,"div",0),u(1,"async")),a&2&&m("ngIf",f(1,1,d.adminService.isAdmin$))},dependencies:[L,k,N,I,D,F,V,A,B],styles:[".matrix-dashboard-container[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--theme-surface)}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--bs-primary) 0%,#4f46e5 100%);color:#fff;padding:2rem 0}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-weight:700}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]{padding:2rem 0}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:var(--theme-bg);border-radius:12px;padding:1.5rem;box-shadow:0 4px 20px #00000014;display:flex;align-items:center;transition:transform .3s ease}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:12px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.5rem;margin-right:1rem}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon.bg-primary[_ngcontent-%COMP%]{background:var(--bs-primary)}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon.bg-success[_ngcontent-%COMP%]{background:#10b981}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon.bg-warning[_ngcontent-%COMP%]{background:#f59e0b}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon.bg-info[_ngcontent-%COMP%]{background:#06b6d4}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-weight:700;font-size:2rem;color:var(--theme-text)}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--theme-text-secondary);font-weight:500}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:var(--theme-bg);border:1px solid rgba(0,0,0,.08);border-radius:12px;box-shadow:0 4px 20px #00000014}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:transparent;border-bottom:1px solid rgba(0,0,0,.08);padding:1.5rem}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:var(--theme-text);font-weight:600;margin:0}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{margin-bottom:0}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:2px solid rgba(0,0,0,.08);font-weight:600;color:var(--theme-text)}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-color:#0000000d;vertical-align:middle}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem}.dark-theme[_ngcontent-%COMP%]   .matrix-dashboard-container[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:#1e293b}.dark-theme[_ngcontent-%COMP%]   .matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f1f5f9}.dark-theme[_ngcontent-%COMP%]   .matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}.dark-theme[_ngcontent-%COMP%]   .matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-bottom-color:#334155}.dark-theme[_ngcontent-%COMP%]   .matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#f1f5f9}.dark-theme[_ngcontent-%COMP%]   .matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#f1f5f9;border-bottom-color:#475569}.dark-theme[_ngcontent-%COMP%]   .matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-color:#475569;color:#e2e8f0}@media (max-width: 768px){.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]{padding:1.5rem 0}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]{padding:1rem 0}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1rem}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.25rem}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem}.matrix-dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{font-size:.875rem}}"]})}return r})();export{tt as MatrixNotesDashboardComponent};
